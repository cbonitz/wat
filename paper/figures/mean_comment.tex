\begin{figure}[ht]
  \centering
  \begin{tikzpicture}[xscale=1.5, yscale=0.75]

    % Icons.
    \tikzstyle{icon}=[inner sep=0pt]
    \node[icon] (woman) at (0, 3) {\includegraphics[width=0.6cm]{figures/woman-crop.pdf}};
    \node[icon] (man) at (0, 1) {\includegraphics[width=0.6cm]{figures/man-crop.pdf}};
    \node[icon] (router) at (1, 2) {\includegraphics[width=0.6cm]{figures/router-crop.pdf}};
    \node[icon] (redis3) at (2, 1) {\includegraphics[width=0.6cm]{figures/redis-crop.pdf}};
    \node[icon] (redis2) at (2, 2) {\includegraphics[width=0.6cm]{figures/redis-crop.pdf}};
    \node[icon] (redis1) at (2, 3) {\includegraphics[width=0.6cm]{figures/redis-crop.pdf}};
    \node[icon] (postgres) at (3, 2) {\includegraphics[width=0.6cm]{figures/postgres-crop.pdf}};

    % Text
    \newcommand{\textsize}{\footnotesize}
    \node[anchor=south] at (woman.north) {\textsize Ava};
    \node[anchor=north] at (man.south) {\textsize Bob};
    \node[anchor=north, align=center] at (router.south) {\textsize{Load}\\\textsize{Balancer}};
    \node[anchor=south, align=center] at (redis1.north) {\textsize{Redis-Backed} \\\textsize{App Servers}};
    \node[anchor=south] at (postgres.north) {\textsize Postgres};

    % Labels.
    \tikzstyle{slabel}=[shape=circle, fill=white, fill opacity=0.7, text opacity=1, inner sep=0pt]
    \node[slabel] at (redis1) {$s_1$};
    \node[slabel] at (redis2) {$s_2$};
    \node[slabel] at (redis3) {$s_3$};

    % Edges.
    \tikzstyle{connection}=[stealth-stealth, line width=0.5pt]
    \draw[connection] (woman) to (router);
    \draw[connection] (man) to (router);
    \draw[connection] (router) to (redis1);
    \draw[connection] (router) to (redis2);
    \draw[connection] (router) to (redis3);
    \draw[connection] (postgres) to (redis1);
    \draw[connection] (postgres) to (redis2);
    \draw[connection] (postgres) to (redis3);
  \end{tikzpicture}
  \caption{Social media application}%
  \figlabel{MeanComment}
\end{figure}
